{"info":{"_postman_id":"3f1088ed-76d2-40e8-9dc0-1777209814a1","name":"Sisgrade","schema":"https://schema.getpostman.com/json/collection/v2.0.0/collection.json"},"item":[{"name":"health","event":[{"listen":"test","script":{"type":"text/javascript","exec":["let i=1;\r","pm.test(`${i++} Status code is 200`, () =>  pm.response.to.have.status(200));\r","pm.test(`${i++} Response is 200`,  ()=> pm.expect(pm.response.text()).to.eql(`200`));\r","pm.test(`${i++} Body is correct`, () => pm.response.to.have.body(`200`));\r","\r",""]}}],"id":"60e91e84-72e6-48d2-8a0a-1577205bdcea","request":{"method":"GET","header":[],"url":"{{url}}/api/v1/Health"},"response":[]},{"name":"health(lowercase)","event":[{"listen":"test","script":{"type":"text/javascript","exec":["let i=1;\r","pm.test(`${i++} Status code is 200`, () =>  pm.response.to.have.status(200));\r","pm.test(`${i++} Response is 200`,  ()=> pm.expect(pm.response.text()).to.eql(`200`));\r","pm.test(`${i++} Body is correct`, () => pm.response.to.have.body(`200`));\r","\r",""]}}],"id":"bc1c1d25-2653-4997-84e4-4c201862e796","request":{"method":"GET","header":[],"url":"{{url}}/api/v1/health"},"response":[]},{"name":"v2","event":[{"listen":"test","script":{"type":"text/javascript","exec":["let url =pm.iterationData.get(\"url\");\r","let reqUrl = `${url}/api/v2/Health`;\r","\r","i=1;\r","pm.test(`${i} Status code is 400`, ()=> pm.response.to.have.status(400));\r","i++;\r","pm.test(`${i} There is an error message`, () => pm.expect(pm.response.text()).to.include(`error`));\r","const jsonData = pm.response.json();\r","i++;\r","pm.test(`${i} The message is appropriate`, ()=> { \r","    pm.expect(jsonData.error.code).to.eql(`UnsupportedApiVersion`);\r","    pm.expect(jsonData.error.message).to.eql(`The HTTP resource that matches the request URI '${reqUrl}' does not support the API version '2'.`);\r","});\r","i++;\r",""]}}],"id":"75e01e46-7dfd-4712-a184-7381b040005d","request":{"method":"GET","header":[],"url":"{{url}}/api/v2/Health"},"response":[]},{"name":"v","event":[{"listen":"test","script":{"type":"text/javascript","exec":["let i = 1; \r","pm.test(`${i++} Status code is 400`, ()=> pm.response.to.have.status(400));\r","pm.test(`${i++} There is an error`, () => pm.expect(pm.response.text()).to.include(`error`));\r","const jsonData = pm.response.json();\r","pm.test(`${i++}  The message is appropriate`, ()=> { \r","    pm.expect(jsonData.error.code).to.eql(`ApiVersionUnspecified`);\r","    pm.expect(jsonData.error.message).to.eql(`An API version is required, but was not specified.`);});\r",""]}}],"id":"121b3b55-0bf2-4691-a786-8cb59af457a8","request":{"method":"GET","header":[],"url":"{{url}}/api/v/Health"},"response":[]},{"name":"no api","event":[{"listen":"test","script":{"type":"text/javascript","exec":["let i=1;\r","pm.test(`${i++} Status code is 404`, ()=> pm.response.to.have.status(404));\r",""]}}],"id":"adee9546-a06a-4f40-b933-3985f44c4334","request":{"method":"GET","header":[],"url":"{{url}}/v1/Health"},"response":[]},{"name":"ApI status is not 404","event":[{"listen":"test","script":{"type":"text/javascript","exec":["let i=1;\r","pm.test(`${i++} Status code is not 404`, ()=> pm.response.to.not.have.status(404));\r",""]}}],"id":"46dc0f95-2d9e-41b9-a7f3-d9329ab03093","request":{"method":"GET","header":[],"url":"{{url}}/ApI/v1/Health"},"response":[]}]}